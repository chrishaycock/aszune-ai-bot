<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="37" failures="0" errors="0" time="4.358">
  <testsuite name="__tests__\integration\messageFlow.test.js" errors="0" failures="0" skipped="0" timestamp="2025-06-30T09:41:40" time="0.632" tests="1">
    <testcase classname="Message flow" name="Message flow adds user and assistant messages to conversationHistory" time="0.009">
    </testcase>
  </testsuite>
  <testsuite name="__tests__\integration\error.test.js" errors="0" failures="0" skipped="0" timestamp="2025-06-30T09:41:40" time="0.752" tests="2">
    <testcase classname="Error handling" name="Error handling handles failed Perplexity API response" time="0.097">
    </testcase>
    <testcase classname="Error handling" name="Error handling handles failed summary API response" time="0.024">
    </testcase>
  </testsuite>
  <testsuite name="__tests__\integration\command.test.js" errors="0" failures="0" skipped="0" timestamp="2025-06-30T09:41:40" time="1.305" tests="12">
    <testcase classname="Command Handling" name="Command Handling responds to !clearhistory and clears the conversation history" time="0.01">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling !help command replies with help message" time="0">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling !summary command replies with summary" time="0.001">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling !summarise command replies with text summary" time="0">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling !summerise command (alternative spelling) replies with text summary" time="0.001">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling !summarise command with no text returns usage message" time="0.001">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling !summerise command with no text returns usage message" time="0">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling !summary command uses UK English in prompt" time="0">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling rate limiting prevents spam" time="0">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling unknown command is ignored" time="0.001">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling !summary with no conversation history" time="0">
    </testcase>
    <testcase classname="Command Handling" name="Command Handling !stats command replies with user stats" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="__tests__\integration\botEdgeCases.test.js" errors="0" failures="0" skipped="0" timestamp="2025-06-30T09:41:40" time="1.373" tests="6">
    <testcase classname="Bot Edge Cases" name="Bot Edge Cases handles empty message" time="0.009">
    </testcase>
    <testcase classname="Bot Edge Cases" name="Bot Edge Cases handles very long message and truncates history" time="0.001">
    </testcase>
    <testcase classname="Bot Edge Cases" name="Bot Edge Cases handles API failure for chat completions" time="0.002">
    </testcase>
    <testcase classname="Bot Edge Cases" name="Bot Edge Cases reacts with correct emoji for hello" time="0.001">
    </testcase>
    <testcase classname="Bot Edge Cases" name="Bot Edge Cases does not react for non-keyword" time="0">
    </testcase>
    <testcase classname="Bot Edge Cases" name="Bot Edge Cases handles missing environment variables gracefully" time="0.616">
    </testcase>
  </testsuite>
  <testsuite name="__tests__\integration\bot.test.js" errors="0" failures="0" skipped="0" timestamp="2025-06-30T09:41:40" time="3.94" tests="16">
    <testcase classname="Bot integration" name="Bot integration should have attached the messageCreate handler" time="0.616">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration handles a normal message and replies" time="0.231">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration replies to !help command" time="0.174">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration replies to !clearhistory command" time="0.182">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration replies to !summary with history" time="0.177">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration replies to !summary with no history" time="0.164">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration ignores unknown command" time="0.153">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration ignores messages from bots" time="0.154">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration adds emoji reactions for keywords" time="0.157">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration adds multiple emoji reactions for multiple keywords" time="0.154">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration rate limits user messages" time="0.165">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration handles API error when replying" time="0.17">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration handles API error when summarising" time="0.155">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration handles empty message gracefully" time="0.16">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration truncates very long conversation history" time="0.156">
    </testcase>
    <testcase classname="Bot integration" name="Bot integration handles missing environment variables gracefully" time="0.315">
    </testcase>
  </testsuite>
</testsuites>